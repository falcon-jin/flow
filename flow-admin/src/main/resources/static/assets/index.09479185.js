import{A as _,aP as g,r,j as v,u as i,_ as h,a0 as y,B as S,D as w,w as x,a6 as C,H as $,K as d,X as u,$ as z}from"./vendor.5879c5ca.js";import{_ as H,p as W,a as j,ae as B}from"./index.aeb7d9f7.js";import{u as E}from"./useWindowSizeFn.6a6adedd.js";const F=_({name:"IFrame",components:{Spin:g},props:{frameSrc:W.string.def("")},setup(){const e=r(!1),l=r(50),o=r(window.innerHeight),t=r(null),{prefixCls:p}=j("iframe-page");E(s,150,{immediate:!0});const c=v(()=>({height:`${i(o)}px`}));function s(){const n=i(t);if(!n)return;let{top:a}=B(n);a+=20,l.value=a,o.value=window.innerHeight-a,document.documentElement.clientHeight-a,n.style.height="100%"}function f(){e.value=!1,s()}function m(){z(()=>{const n=i(t);if(!n)return;const a=n;a.attachEvent?a.attachEvent("onload",()=>{f()}):n.onload=()=>{f()}})}return h(()=>{e.value=!0,m()}),{getWrapStyle:c,loading:e,frameRef:t,prefixCls:p}}}),R=["src"];function k(e,l,o,t,p,c){const s=y("Spin");return S(),w("div",{class:d(e.prefixCls),style:u(e.getWrapStyle)},[x(s,{wrapperClassName:"custom-spin-container",spinning:e.loading,size:"large",style:u(e.getWrapStyle)},{default:C(()=>[$("iframe",{src:e.frameSrc,class:d(`${e.prefixCls}__main`),ref:"frameRef"},null,10,R)]),_:1},8,["spinning","style"])],6)}var I=H(F,[["render",k],["__scopeId","data-v-796aef82"]]);export{I as default};
