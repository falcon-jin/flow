import{B as x}from"./TableImg.56f74f95.js";import{T as I}from"./BasicForm.bfb70ce4.js";import{u as P}from"./useTable.df715f1a.js";import{g as T,d as E}from"./account.c73985c3.js";import{P as G}from"./index.37a89528.js";import{b as g}from"./index.309f7e13.js";import R from"./AccountModal.0e9b876d.js";import V from"./PasswordModal.afdb2bb9.js";import k from"./SetGroupModal.3cdc9890.js";import{c as F,s as U}from"./account.data.00b4e9dd.js";import{A as D,bA as y,bJ as $,cx as H,r as C,a0 as t,B as O,D as N,w as s,a6 as r,H as W,ae as z}from"./vendor.5879c5ca.js";/* empty css                *//* empty css                */import{_ as J}from"./index.aeb7d9f7.js";/* empty css                *//* empty css              */import"./useForm.9d0149a6.js";/* empty css                *//* empty css                *//* empty css               */import"./uuid.2b29000c.js";import"./useWindowSizeFn.6a6adedd.js";/* empty css               */import"./useSortable.514a2720.js";/* empty css                *//* empty css               *//* empty css               */import"./index.661e65ad.js";/* empty css                *//* empty css                *//* empty css                */import"./download.6c7231a4.js";import"./base64Conver.bb012c73.js";import"./index.77bdba74.js";/* empty css                */import"./useContentViewHeight.6345b5e8.js";import"./constantEnum.82824ec7.js";import"./group.64be3f3e.js";const L=D({name:"Account",components:{BasicTable:x,PageWrapper:G,AccountModal:R,PasswordModal:V,SetGroupModal:k,TableAction:I,Avatar:y,Image:$,UserOutlined:H},setup(){const[e,{openModal:l}]=g(),[h,{openModal:j}]=g(),[w,{openModal:S}]=g(),d=C(""),a=C(!1),[u,{reload:i}]=P({title:"\u5217\u8868",api:T,columns:F,formConfig:{labelWidth:120,schemas:U,showAdvancedButton:!1,showResetButton:!1,autoSubmitOnEnter:!0},canColDrag:!0,useSearchForm:!0,bordered:!0,showIndexColumn:!1,actionColumn:{width:160,title:"\u64CD\u4F5C",dataIndex:"action",slots:{customRender:"action"},fixed:!1}});function c(){l(!0,{isUpdate:!1})}function p(o){l(!0,{record:o,isUpdate:!0})}function m(o){j(!0,{record:o,isUpdate:!0})}function f(o){S(!0,{record:o,isUpdate:!0})}function b(o){E([o.id]).then(A=>{i()})}function n(){i()}function v(){i()}function M(){i()}function _(o){o&&(d.value=o,a.value=!0)}function B(o,A){a.value=o}return{registerTable:u,registerModal:e,registerPasswordModal:h,registerSetGroupModal:w,previewImage:d,previewImageVisible:a,previewImageHandle:_,previewImageVisibleChange:B,handleCreate:c,handleEdit:p,handleSetPassword:m,handleSetGroup:f,handleDelete:b,handleSuccess:n,handlePasswordSuccess:v,handleSetGroupSuccess:M}}}),q=z(" \u65B0\u589E "),K={style:{width:"0",height:"0",overflow:"hidden"}};function Q(e,l,h,j,w,S){const d=t("a-button"),a=t("TableAction"),u=t("UserOutlined"),i=t("Avatar"),c=t("BasicTable"),p=t("Image"),m=t("AccountModal"),f=t("PasswordModal"),b=t("SetGroupModal");return O(),N("div",null,[s(c,{onRegister:e.registerTable},{toolbar:r(()=>[s(d,{type:"primary",onClick:e.handleCreate},{default:r(()=>[q]),_:1},8,["onClick"])]),action:r(({record:n})=>[s(a,{actions:[{tooltip:"\u5206\u914D\u7EC4",icon:"ant-design:usergroup-add",onClick:e.handleSetGroup.bind(null,n)},{tooltip:"\u8BBE\u7F6E\u5BC6\u7801",icon:"ant-design:setting-outlined",onClick:e.handleSetPassword.bind(null,n)},{tooltip:"\u4FEE\u6539",icon:"clarity:note-edit-line",onClick:e.handleEdit.bind(null,n)},{tooltip:"\u5220\u9664",icon:"ant-design:delete-outlined",color:"error",popConfirm:{title:"\u662F\u5426\u786E\u8BA4\u5220\u9664",confirm:e.handleDelete.bind(null,n)}}]},null,8,["actions"])]),imageRender:r(({record:n})=>[s(i,{src:n.image,onClick:v=>e.previewImageHandle(n.image)},{icon:r(()=>[s(u)]),_:2},1032,["src","onClick"])]),_:1},8,["onRegister"]),W("div",K,[s(p,{width:0,height:0,src:e.previewImage,preview:{visible:e.previewImageVisible,onVisibleChange:e.previewImageVisibleChange}},null,8,["src","preview"])]),s(m,{onRegister:e.registerModal,onSuccess:e.handleSuccess},null,8,["onRegister","onSuccess"]),s(f,{onRegister:e.registerPasswordModal,onSuccess:e.handlePasswordSuccess},null,8,["onRegister","onSuccess"]),s(b,{onRegister:e.registerSetGroupModal,onSuccess:e.handleSetGroupSuccess},null,8,["onRegister","onSuccess"])])}var ke=J(L,[["render",Q]]);export{ke as default};
